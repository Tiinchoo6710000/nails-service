{"ast":null,"code":"const BASE = 'http://localhost:5000';\nexport async function fetchAvailability(start, days = 14) {\n  const url = new URL(`${BASE}/availability`);\n  if (start) url.searchParams.set('start', start);\n  url.searchParams.set('days', days);\n  const res = await fetch(url);\n  if (!res.ok) throw new Error('Error cargando disponibilidad');\n  return res.json();\n}\nexport async function createBooking(payload) {\n  const res = await fetch(`${BASE}/bookings`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(payload)\n  });\n  const data = await res.json();\n  if (!res.ok) throw new Error(data.error || 'Error creando reserva');\n  return data;\n}\nexport async function fetchWorks() {\n  const res = await fetch(`${BASE}/works`);\n  if (!res.ok) throw new Error('Error cargando trabajos');\n  return res.json();\n}\nexport async function fetchBookings() {\n  const res = await fetch(`${BASE}/bookings`);\n  if (!res.ok) throw new Error('Error cargando reservas');\n  return res.json();\n}\nexport async function adminListBookings(auth) {\n  const res = await fetch(`${BASE}/admin/bookings`, {\n    headers: {\n      'Authorization': auth\n    }\n  });\n  if (!res.ok) throw new Error('No autorizado o error');\n  return res.json();\n}\nexport async function adminDeleteBooking(id, auth) {\n  const res = await fetch(`${BASE}/admin/bookings/${id}`, {\n    method: 'DELETE',\n    headers: {\n      'Authorization': auth\n    }\n  });\n  if (!res.ok) throw new Error('No autorizado o error');\n  return res.json();\n}","map":{"version":3,"names":["BASE","fetchAvailability","start","days","url","URL","searchParams","set","res","fetch","ok","Error","json","createBooking","payload","method","headers","body","JSON","stringify","data","error","fetchWorks","fetchBookings","adminListBookings","auth","adminDeleteBooking","id"],"sources":["C:/Users/usuario/Desktop/nails-service-fullstack/frontend/src/api.js"],"sourcesContent":["const BASE = 'http://localhost:5000';\n\nexport async function fetchAvailability(start, days=14){\n  const url = new URL(`${BASE}/availability`);\n  if(start) url.searchParams.set('start', start);\n  url.searchParams.set('days', days);\n  const res = await fetch(url);\n  if(!res.ok) throw new Error('Error cargando disponibilidad');\n  return res.json();\n}\n\nexport async function createBooking(payload){\n  const res = await fetch(`${BASE}/bookings`, {\n    method: 'POST',\n    headers: {'Content-Type': 'application/json'},\n    body: JSON.stringify(payload)\n  });\n  const data = await res.json();\n  if(!res.ok) throw new Error(data.error || 'Error creando reserva');\n  return data;\n}\n\nexport async function fetchWorks(){\n  const res = await fetch(`${BASE}/works`);\n  if(!res.ok) throw new Error('Error cargando trabajos');\n  return res.json();\n}\n\nexport async function fetchBookings(){\n  const res = await fetch(`${BASE}/bookings`);\n  if(!res.ok) throw new Error('Error cargando reservas');\n  return res.json();\n}\n\nexport async function adminListBookings(auth){\n  const res = await fetch(`${BASE}/admin/bookings`, {\n    headers: { 'Authorization': auth }\n  });\n  if(!res.ok) throw new Error('No autorizado o error');\n  return res.json();\n}\n\nexport async function adminDeleteBooking(id, auth){\n  const res = await fetch(`${BASE}/admin/bookings/${id}`, {\n    method: 'DELETE',\n    headers: { 'Authorization': auth }\n  });\n  if(!res.ok) throw new Error('No autorizado o error');\n  return res.json();\n}\n"],"mappings":"AAAA,MAAMA,IAAI,GAAG,uBAAuB;AAEpC,OAAO,eAAeC,iBAAiBA,CAACC,KAAK,EAAEC,IAAI,GAAC,EAAE,EAAC;EACrD,MAAMC,GAAG,GAAG,IAAIC,GAAG,CAAC,GAAGL,IAAI,eAAe,CAAC;EAC3C,IAAGE,KAAK,EAAEE,GAAG,CAACE,YAAY,CAACC,GAAG,CAAC,OAAO,EAAEL,KAAK,CAAC;EAC9CE,GAAG,CAACE,YAAY,CAACC,GAAG,CAAC,MAAM,EAAEJ,IAAI,CAAC;EAClC,MAAMK,GAAG,GAAG,MAAMC,KAAK,CAACL,GAAG,CAAC;EAC5B,IAAG,CAACI,GAAG,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,+BAA+B,CAAC;EAC5D,OAAOH,GAAG,CAACI,IAAI,CAAC,CAAC;AACnB;AAEA,OAAO,eAAeC,aAAaA,CAACC,OAAO,EAAC;EAC1C,MAAMN,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGT,IAAI,WAAW,EAAE;IAC1Ce,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MAAC,cAAc,EAAE;IAAkB,CAAC;IAC7CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACL,OAAO;EAC9B,CAAC,CAAC;EACF,MAAMM,IAAI,GAAG,MAAMZ,GAAG,CAACI,IAAI,CAAC,CAAC;EAC7B,IAAG,CAACJ,GAAG,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAACS,IAAI,CAACC,KAAK,IAAI,uBAAuB,CAAC;EAClE,OAAOD,IAAI;AACb;AAEA,OAAO,eAAeE,UAAUA,CAAA,EAAE;EAChC,MAAMd,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGT,IAAI,QAAQ,CAAC;EACxC,IAAG,CAACQ,GAAG,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,yBAAyB,CAAC;EACtD,OAAOH,GAAG,CAACI,IAAI,CAAC,CAAC;AACnB;AAEA,OAAO,eAAeW,aAAaA,CAAA,EAAE;EACnC,MAAMf,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGT,IAAI,WAAW,CAAC;EAC3C,IAAG,CAACQ,GAAG,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,yBAAyB,CAAC;EACtD,OAAOH,GAAG,CAACI,IAAI,CAAC,CAAC;AACnB;AAEA,OAAO,eAAeY,iBAAiBA,CAACC,IAAI,EAAC;EAC3C,MAAMjB,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGT,IAAI,iBAAiB,EAAE;IAChDgB,OAAO,EAAE;MAAE,eAAe,EAAES;IAAK;EACnC,CAAC,CAAC;EACF,IAAG,CAACjB,GAAG,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,uBAAuB,CAAC;EACpD,OAAOH,GAAG,CAACI,IAAI,CAAC,CAAC;AACnB;AAEA,OAAO,eAAec,kBAAkBA,CAACC,EAAE,EAAEF,IAAI,EAAC;EAChD,MAAMjB,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGT,IAAI,mBAAmB2B,EAAE,EAAE,EAAE;IACtDZ,MAAM,EAAE,QAAQ;IAChBC,OAAO,EAAE;MAAE,eAAe,EAAES;IAAK;EACnC,CAAC,CAAC;EACF,IAAG,CAACjB,GAAG,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,uBAAuB,CAAC;EACpD,OAAOH,GAAG,CAACI,IAAI,CAAC,CAAC;AACnB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}